![License](https://img.shields.io/github/license/npetri13/mp4parser?style=for-the-badge)

# Introduction
This sourcecode was created along with my diploma thesis. The topic was: "Development of an analyzer for MPEG4 data streams with special consideration of constructs derived from the VRML standard."

At the time, it was assumed that bandwidth would remain an existing problem and everything was done to save data volume. It was further assumed that the computing power on the transmitter's side was such that it was capable of converting a recorded scene into a 3D description (VRML). This would save enormous bandwidth, since only the scene description and the necessary textures would have to be transferred. The receiver renders the scene just as it is done today in modern 3D applications such as computer games. As we all know now, everything turned out quite differently. The provision of bandwidth was obviously technically easier to solve than the procedure just described.

Not much remained of the MPEG4 standard, which at that time, according to my recollection, consisted of only seven or eight layers and finally counted over 30 layers. The most widely used format of the MPEG4 standard was the audio layer colloquially called mp3. But also the H263 video codec was used intensively.

## Review
To publish the code, I actually had to read the only still existing CD (it was included with the thesis) from 2000, which fortunately worked. I only had to make a few changes to be able to compile the software. In the process, I had to dive back into the subject a bit and understand my code.  

It's exciting to see how much you've developed over the years. You basically look over your own shoulder and give yourself tips. And often you ask yourself, why did you do it that way? I'm okay with it, I got an A for the diploma. And everything I learned about software development up to that point, I learned on my own. Long before I read classics like Kernighan and Ritchie or Bjarne Stroustrup on C and C++ respectively. For this reason I only made the most necessary changes to this project.

All development of the present codes was done within the scope of my diploma, therefore I publish the source files with MIT license.

## Project goal
The project was part of a larger scientific work. At that time there were different standards for the already mentioned VRML-like scene description (BIFS - Binary Format for Scene). There were also various rudimentary players for MPEG4 data streams. Since not all constructs of BIFS were implemented by all players, however, the consideration was to recognize certain constructs first and to replace these later in the development by other commands. At this point my project of the parser started, which checks the data stream for validity. The parser checked whether the data was usable for the IM1 player (a proprietary development player). In the folder "data" there is a test file that triggers certain errors.

## Changes in 2022
To compile the files from the year 2000, only a few changes were necessary. Mainly to avoid compiler warnings. On this occasion I adjusted the project structure, i.e. moved the single code parts into separate folders. Therefore I have rewritten all makefiles. 

#### Change overview
I was able to compile the code on my Macbook Pro. Surprisingly, the Apple toolchain even includes flex and bison, which sped up the work considerably. I think it is basically compilable with Unix systems, on Windows it will be possible with [cygwin](https://www.cygwin.com/).

**Details:**

- New makefiles to reflect the new folder structure.
- Include statements changed to reflect the new folder structure.
- The open statement for the input file was adjusted to avoid warnings.
- I also added some forward declarations for the lexer functions (swlex, yyley, zzlex), these where autogenerated functions. Well, this is not not my taste, but i didn't want to break the existing code too much. It should document my knowledge and ability at this point. See also the following section Review.

**License:** [MIT](https://choosealicense.com/licenses/mit/)

**THE RELEVANT ORIGINAL PART OF THE README FILE IS AS FOLLOWS**

**VERSIONS:**  
0.9		First version.  
0.99		Object descriptor implemented.  
0.999		Update and Route Commands implemented.  
0.9999		Scene graph restructed and error recovering is done.  
0.99999		Complete face node and their subnodes implemented.  
0.999999	2D - Scenes can be parsed and fine tuning on error recovery.  
